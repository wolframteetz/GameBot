<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_11) on Mon Mar 02 19:57:05 CET 2015 -->
<title>sirTankiBot</title>
<meta name="date" content="2015-03-02">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="sirTankiBot";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":9,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../sirTankiBot/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/sirTankiBot.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?sirTankiBot/sirTankiBot.html" target="_top">Frames</a></li>
<li><a href="sirTankiBot.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">sirTankiBot</div>
<h2 title="Class sirTankiBot" class="title">Class sirTankiBot</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>sirTankiBot.sirTankiBot</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.util.EventListener, org.jnativehook.keyboard.NativeKeyListener</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">sirTankiBot</span>
extends java.lang.Object
implements org.jnativehook.keyboard.NativeKeyListener</pre>
<div class="block"><br>
 Game robot, version for Tanki Online (Flash browser tank game) <br>
 <br>
 License URL : http://www.gnu.org/licenses/agpl-3.0.de.html <br>
 <br>
 This program <br>
 - Captures and processes the screen where the game is displayed  <br>
 - Extracts the player color  <br>
 - Extracts enemy positions on screen. This is currently done by detecting the "text writing" of the player name above the tank and determining <br>
     whether it is of enemy color. TODO: Find the CENTER of the writing (a little to the left is the tank...). <br>
 -   Has an auto-fire mode that automatically fires if there is an enemy detected straight ahead <br>
 -   Has an auto-targeting mode that automatically turns the turret towards the nearest enemy <br>
 -   Has a greedy-follow mode that automatically drives and turns towards an enemy ahead <br>
 - Finds "nearest" terrain features along a set to rays projected from the tank center. <br>
   Terrain features are points, in which a terrain class "a" changes into a terrain class "b". <br>
   Terrain classes are defined in BattleConfig. They are set by giving the min and max RGB values of each terrain pattern. <br> 
   See class BattleConfig for details. <br>
 -   Has a record function that records the currently detected terrain features into a List <br>
 -   Has a save/load function for that list <br>
 -   Has a autopilot function, that, based on the currently detected terrain "replays" the user-recorded action when this terrain is met. <br>
 -   Has a "autogenerate terrain feature" function, that prints a "Terrain detection line in java" to the console. Position the Mouse with <br>
     the tip to the lower right of the terrain change and press "O" to print a terrain detection line to the console. This can be cut and  <br>
     pasted to the BattleConfig Class to extend the terrain detection <br>
     <br>
     NOTE: <br>
     Using this software VIOLATES THE STANDARD USAGE AGREEMENT and may result in your ACCOUNT BEING BLOCKED OR BANNED. <br>
     <br>
     == IT IS ILLEGAL TO USE THIS SOFTWARE ON TANKIONLINE.COM WITHOUT PREVIOUSLY CONTACTING TANKIONLINE AND GETTING A USAGE EXCEPTION == <br>
     <br>
     You need to WRITE TO TANKIONLINE and get their AGREEMENT to use this software PRIOR TO LAUNCHING IT! <br>
     <br>     
     THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES <br>
     WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF <br>
     MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR <br>
     ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES <br>
     WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN <br>
     ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF <br>
     OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE. <br>
      <br>
     This software uses JNATIVEHOOOK (https://code.google.com/p/jnativehook/) to capture user interaction with Tanki for recording it. <br>
     JNATIVEHOOK is licensed under the GNU Lesser General Public License <br>
     Keep this in mind when packaging this code into a JAR. <br>
 <br>     
 See <a href="http://wolframteetz.wordpress.com">http://wolframteetz.wordpress.com</a> for further information <br>
 <br></div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>1.2.28 <br></dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Wolfram Teetz &#60;wolframteetz&#64;gmail.com\&#62; <br></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><br>
 		Category : Robot <br> 
      License : GNU AGPL v3 <br>
      Project : sirTankiBot <br></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#auto_on">auto_on</a></span></code>
<div class="block">Currently recording terrain-based driving</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) sirTankiBot.BattleConfig</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#battleConfig">battleConfig</a></span></code>
<div class="block">Battle configuration (Which tank, map, weapon is used, which terrain types are there)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) sirTankiBot.Board</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#board">board</a></span></code>
<div class="block">The representation of the tanki board</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.awt.Robot</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#bot">bot</a></span></code>
<div class="block">Java robot (Keypresses, capture screen)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#keyboardOffMode">keyboardOffMode</a></span></code>
<div class="block">If true, do not process user keypresses except "NUMPAD /" = Enable keyboard</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#keydelay">keydelay</a></span></code>
<div class="block">Keydelay is the delay the program waits after each keypress not to flood the buffer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.util.concurrent.ScheduledExecutorService</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#keyPressExec">keyPressExec</a></span></code>
<div class="block">Key press service</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.util.LinkedList&lt;java.lang.Integer&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#keyPressQueue">keyPressQueue</a></span></code>
<div class="block">Queue of keys to be pressed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.lang.Boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#keyPressQueueEmpty">keyPressQueueEmpty</a></span></code>
<div class="block">The key press service (every keyThreadDelay ms) has encountered an empty queue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.lang.Runnable</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#keyPressRunnable">keyPressRunnable</a></span></code>
<div class="block">Execute key press runnable</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#keysDown">keysDown</a></span></code>
<div class="block">Keys that are currently held pressed, 0=w, 1=a, 2=s, 3=d, 4=y, 5=x, 6=space</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#keyThreadDelay">keyThreadDelay</a></span></code>
<div class="block">keyThreadDelay is the frequency in milliseconds keys are pressed from the key press buffer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#lastKeypressSystemMillis">lastKeypressSystemMillis</a></span></code>
<div class="block">System time at last automatic keypress</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#recording">recording</a></span></code>
<div class="block">Recording/Terrain recognition related</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#smoothFiring">smoothFiring</a></span></code>
<div class="block">Smooth firing counter, will fire until multiple frames (count) do not contain target</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.util.LinkedList&lt;sirTankiBot.Status&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#statusCopy">statusCopy</a></span></code>
<div class="block">Last status (status at the last capture round, one full capture and processing frame back).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.util.LinkedList&lt;sirTankiBot.Status&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#statusList">statusList</a></span></code>
<div class="block">The turret is currently turned.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#statusLookAhead">statusLookAhead</a></span></code>
<div class="block">Look ahead of the status.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) sirTankiBot.KDTree&lt;sirTankiBot.Status&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#statusTree">statusTree</a></span></code>
<div class="block">The k-d-tree of the statusList.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#turretIsTurned">turretIsTurned</a></span></code>
<div class="block">"Autopilot" meaning automatic terrain-based driving service enabled</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#sirTankiBot--">sirTankiBot</a></span>()</code>
<div class="block">Initialize the Battle configuration and the board.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#automaticAction--">automaticAction</a></span>()</code>
<div class="block">Execute automatic action (Update the board status and execute an automatic driving action)</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#automaticOff--">automaticOff</a></span>()</code>
<div class="block">Turn the automatic driving off (release all the driving keys)</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#centerTurret--">centerTurret</a></span>()</code>
<div class="block">Center the tank turret</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#fireOnEnemyAhead--">fireOnEnemyAhead</a></span>()</code>
<div class="block">Check if there is an enemy ahead and, if there is, turn the turret if necessary and fire on him.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#forceAllKeysUp--">forceAllKeysUp</a></span>()</code>
<div class="block">Force immediate release of all keys (e.g.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#getMinMax-java.awt.image.BufferedImage-">getMinMax</a></span>(java.awt.image.BufferedImage&nbsp;bufferedImage)</code>
<div class="block">Get the minimum and maximum value of red,green,blue channel components within the bufferedImage
 Used for detection of terrain types and tank colors etc.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>sirTankiBot.Status</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#hardFindNearest-sirTankiBot.Status-">hardFindNearest</a></span>(sirTankiBot.Status&nbsp;query)</code>
<div class="block">Brute-force implementation of the k-dimensional find nearest.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#initTanki--">initTanki</a></span>()</code>
<div class="block">Init the Tanki window.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#keyDown-int-">keyDown</a></span>(int&nbsp;nr)</code>
<div class="block">Push key down immediately and wait for "keydelay" milliseconds.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#keyUp-int-">keyUp</a></span>(int&nbsp;nr)</code>
<div class="block">Release key immediately and wait for "keydelay" milliseconds.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#lazyKeyDown-int-">lazyKeyDown</a></span>(int&nbsp;nr)</code>
<div class="block">Push down a key as soon as possible.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#lazyKeyUp-int-">lazyKeyUp</a></span>(int&nbsp;nr)</code>
<div class="block">Release a key as soon as possible.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>
<div class="block">Main start.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#nativeKeyPressed-org.jnativehook.keyboard.NativeKeyEvent-">nativeKeyPressed</a></span>(org.jnativehook.keyboard.NativeKeyEvent&nbsp;e)</code>
<div class="block">React to a user keypress</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#nativeKeyReleased-org.jnativehook.keyboard.NativeKeyEvent-">nativeKeyReleased</a></span>(org.jnativehook.keyboard.NativeKeyEvent&nbsp;e)</code>
<div class="block">React to the user globally releasing a key.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#nativeKeyTyped-org.jnativehook.keyboard.NativeKeyEvent-">nativeKeyTyped</a></span>(org.jnativehook.keyboard.NativeKeyEvent&nbsp;arg0)</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#osaExec-java.lang.String-">osaExec</a></span>(java.lang.String&nbsp;s)</code>
<div class="block">Execute a Mac Script (osascript) - position the Tanki window correctly etc.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#setFiringOnlyMode--">setFiringOnlyMode</a></span>()</code>
<div class="block">A target in range has been aquired.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#start--">start</a></span>()</code>
<div class="block">Start the robot.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#startKeyboardThread--">startKeyboardThread</a></span>()</code>
<div class="block">Start the keyboard thread.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#sysExec-java.lang.String-">sysExec</a></span>(java.lang.String&nbsp;s)</code>
<div class="block">Execure a desktop command (activate Tanki window e.g.)</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#updateStatus--">updateStatus</a></span>()</code>
<div class="block">Update the board status</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#waitForKeyboardQueue--">waitForKeyboardQueue</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../sirTankiBot/sirTankiBot.html#winExec--">winExec</a></span>()</code>
<div class="block">Execute a windows command (e.g.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="bot">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bot</h4>
<pre>java.awt.Robot bot</pre>
<div class="block">Java robot (Keypresses, capture screen)</div>
</li>
</ul>
<a name="board">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>board</h4>
<pre>sirTankiBot.Board board</pre>
<div class="block">The representation of the tanki board</div>
</li>
</ul>
<a name="battleConfig">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>battleConfig</h4>
<pre>sirTankiBot.BattleConfig battleConfig</pre>
<div class="block">Battle configuration (Which tank, map, weapon is used, which terrain types are there)</div>
</li>
</ul>
<a name="keysDown">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keysDown</h4>
<pre>boolean[] keysDown</pre>
<div class="block">Keys that are currently held pressed, 0=w, 1=a, 2=s, 3=d, 4=y, 5=x, 6=space</div>
</li>
</ul>
<a name="keydelay">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keydelay</h4>
<pre>int keydelay</pre>
<div class="block">Keydelay is the delay the program waits after each keypress not to flood the buffer. Use this or lazy keypressing, then set this to 0</div>
</li>
</ul>
<a name="keyThreadDelay">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyThreadDelay</h4>
<pre>int keyThreadDelay</pre>
<div class="block">keyThreadDelay is the frequency in milliseconds keys are pressed from the key press buffer. Use this or keydelay with direct keypresses.</div>
</li>
</ul>
<a name="keyboardOffMode">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyboardOffMode</h4>
<pre>boolean keyboardOffMode</pre>
<div class="block">If true, do not process user keypresses except "NUMPAD /" = Enable keyboard</div>
</li>
</ul>
<a name="smoothFiring">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>smoothFiring</h4>
<pre>int smoothFiring</pre>
<div class="block">Smooth firing counter, will fire until multiple frames (count) do not contain target</div>
</li>
</ul>
<a name="keyPressQueueEmpty">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyPressQueueEmpty</h4>
<pre>java.lang.Boolean keyPressQueueEmpty</pre>
<div class="block">The key press service (every keyThreadDelay ms) has encountered an empty queue. Ready to keypress immediately.</div>
</li>
</ul>
<a name="keyPressExec">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyPressExec</h4>
<pre>java.util.concurrent.ScheduledExecutorService keyPressExec</pre>
<div class="block">Key press service</div>
</li>
</ul>
<a name="keyPressRunnable">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyPressRunnable</h4>
<pre>java.lang.Runnable keyPressRunnable</pre>
<div class="block">Execute key press runnable</div>
</li>
</ul>
<a name="keyPressQueue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyPressQueue</h4>
<pre>java.util.LinkedList&lt;java.lang.Integer&gt; keyPressQueue</pre>
<div class="block">Queue of keys to be pressed. The bot will wait for this queue to be empty
 before or after screen capturing and analyzing. 
 Advantage of emptying before capture : The delay between capture and new keypresses is minimized. 
   The action is more appropriate because is is closer to the "real current state"
 Advantage of emptying after the capture : Higher framerate. The capture processing is done while keys are still pressed
 Current solution : Get the queue down to max. 1 keypress before starting the capture (that means max. 2*keydelay forced capture time)</div>
</li>
</ul>
<a name="lastKeypressSystemMillis">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastKeypressSystemMillis</h4>
<pre>long lastKeypressSystemMillis</pre>
<div class="block">System time at last automatic keypress</div>
</li>
</ul>
<a name="recording">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recording</h4>
<pre>boolean recording</pre>
<div class="block">Recording/Terrain recognition related</div>
</li>
</ul>
<a name="auto_on">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>auto_on</h4>
<pre>boolean auto_on</pre>
<div class="block">Currently recording terrain-based driving</div>
</li>
</ul>
<a name="turretIsTurned">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>turretIsTurned</h4>
<pre>boolean turretIsTurned</pre>
<div class="block">"Autopilot" meaning automatic terrain-based driving service enabled</div>
</li>
</ul>
<a name="statusList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>statusList</h4>
<pre>java.util.LinkedList&lt;sirTankiBot.Status&gt; statusList</pre>
<div class="block">The turret is currently turned. Do not drive based on terrain, first center the turret! 
  All known statuses. Will exectute the k-d-nearest neighbour on "auto-exec" mode</div>
</li>
</ul>
<a name="statusTree">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>statusTree</h4>
<pre>sirTankiBot.KDTree&lt;sirTankiBot.Status&gt; statusTree</pre>
<div class="block">The k-d-tree of the statusList. Can be used as a faster variant of brute force
  nearest neighbour search for the above. Currently, there is a bug ::TODO:: in the method.</div>
</li>
</ul>
<a name="statusLookAhead">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>statusLookAhead</h4>
<pre>final&nbsp;int statusLookAhead</pre>
<div class="block">Look ahead of the status. e.g. 2 means take 2 frames ahead with the current keyboard input. 
 Increase this value to turn "earlier" or for systems with great lag on playback.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#sirTankiBot.sirTankiBot.statusLookAhead">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="statusCopy">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>statusCopy</h4>
<pre>java.util.LinkedList&lt;sirTankiBot.Status&gt; statusCopy</pre>
<div class="block">Last status (status at the last capture round, one full capture and processing frame back). On recording, 
                the current key response to this scenario (one round ago) will be recorded, since at playback time
                there is a delay of capture to recognize
 A big improvement would be to save the delay and play back keypresses after the same delay.
 Even better, recognize that keypresses happen e.g. 200ms after features appear and execute then
                example : 200ms, after tank is ahead and reaction was turn right, turn left and circle enemy</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="sirTankiBot--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>sirTankiBot</h4>
<pre>public&nbsp;sirTankiBot()</pre>
<div class="block">Initialize the Battle configuration and the board.
 Call start later to start a robot on on the board.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="start--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start()</pre>
<div class="block">Start the robot. This function never returns.</div>
</li>
</ul>
<a name="startKeyboardThread--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startKeyboardThread</h4>
<pre>private&nbsp;void&nbsp;startKeyboardThread()</pre>
<div class="block">Start the keyboard thread. This thread will work down the list of "to-do-keypresses" every few milliseconds
 not to overflow the buffer or to loose some.</div>
</li>
</ul>
<a name="lazyKeyDown-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lazyKeyDown</h4>
<pre>private&nbsp;void&nbsp;lazyKeyDown(int&nbsp;nr)</pre>
<div class="block">Push down a key as soon as possible. Writes the key in the keyboard thread queue.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nr</code> - Key number (0-6)</dd>
</dl>
</li>
</ul>
<a name="lazyKeyUp-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lazyKeyUp</h4>
<pre>private&nbsp;void&nbsp;lazyKeyUp(int&nbsp;nr)</pre>
<div class="block">Release a key as soon as possible. Writes the key in the keyboard thread queue.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nr</code> - Key number (0-6)</dd>
</dl>
</li>
</ul>
<a name="osaExec-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>osaExec</h4>
<pre>public&nbsp;void&nbsp;osaExec(java.lang.String&nbsp;s)</pre>
<div class="block">Execute a Mac Script (osascript) - position the Tanki window correctly etc.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - Program to execute</dd>
</dl>
</li>
</ul>
<a name="sysExec-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sysExec</h4>
<pre>public&nbsp;void&nbsp;sysExec(java.lang.String&nbsp;s)</pre>
<div class="block">Execure a desktop command (activate Tanki window e.g.)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - Program to execute</dd>
</dl>
</li>
</ul>
<a name="winExec--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>winExec</h4>
<pre>public&nbsp;void&nbsp;winExec()</pre>
<div class="block">Execute a windows command (e.g. position/activate Tanki window)</div>
</li>
</ul>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
<div class="block">Main start. Register the keylogger, create an instance of the class, run start on it.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - ignored</dd>
</dl>
</li>
</ul>
<a name="keyDown-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyDown</h4>
<pre>public&nbsp;void&nbsp;keyDown(int&nbsp;nr)</pre>
<div class="block">Push key down immediately and wait for "keydelay" milliseconds.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nr</code> - key number</dd>
</dl>
</li>
</ul>
<a name="keyUp-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyUp</h4>
<pre>public&nbsp;void&nbsp;keyUp(int&nbsp;nr)</pre>
<div class="block">Release key immediately and wait for "keydelay" milliseconds.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nr</code> - key number</dd>
</dl>
</li>
</ul>
<a name="forceAllKeysUp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceAllKeysUp</h4>
<pre>private&nbsp;void&nbsp;forceAllKeysUp()</pre>
<div class="block">Force immediate release of all keys (e.g. on program exit)</div>
</li>
</ul>
<a name="centerTurret--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>centerTurret</h4>
<pre>public&nbsp;void&nbsp;centerTurret()</pre>
<div class="block">Center the tank turret</div>
</li>
</ul>
<a name="initTanki--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initTanki</h4>
<pre>public&nbsp;void&nbsp;initTanki()</pre>
<div class="block">Init the Tanki window. Put it to the right place, activate it, set the perspective, set the size.
 The user needs to manually set the graphics to constant parameters. I recommend all off.
 Automatic quality control will surely mess up the autodetection.</div>
</li>
</ul>
<a name="nativeKeyPressed-org.jnativehook.keyboard.NativeKeyEvent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nativeKeyPressed</h4>
<pre>public&nbsp;void&nbsp;nativeKeyPressed(org.jnativehook.keyboard.NativeKeyEvent&nbsp;e)</pre>
<div class="block">React to a user keypress</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>nativeKeyPressed</code>&nbsp;in interface&nbsp;<code>org.jnativehook.keyboard.NativeKeyListener</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>e</code> - User keypress</dd>
</dl>
</li>
</ul>
<a name="getMinMax-java.awt.image.BufferedImage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMinMax</h4>
<pre>private&nbsp;int[]&nbsp;getMinMax(java.awt.image.BufferedImage&nbsp;bufferedImage)</pre>
<div class="block">Get the minimum and maximum value of red,green,blue channel components within the bufferedImage
 Used for detection of terrain types and tank colors etc.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bufferedImage</code> - Image to extract the values from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Minmax array (R,G,B min and R,G,B max)</dd>
</dl>
</li>
</ul>
<a name="nativeKeyReleased-org.jnativehook.keyboard.NativeKeyEvent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nativeKeyReleased</h4>
<pre>public&nbsp;void&nbsp;nativeKeyReleased(org.jnativehook.keyboard.NativeKeyEvent&nbsp;e)</pre>
<div class="block">React to the user globally releasing a key.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>nativeKeyReleased</code>&nbsp;in interface&nbsp;<code>org.jnativehook.keyboard.NativeKeyListener</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>e</code> - key event</dd>
</dl>
</li>
</ul>
<a name="hardFindNearest-sirTankiBot.Status-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hardFindNearest</h4>
<pre>public&nbsp;sirTankiBot.Status&nbsp;hardFindNearest(sirTankiBot.Status&nbsp;query)</pre>
<div class="block">Brute-force implementation of the k-dimensional find nearest. Find the nearest status in the statusList to the query. O(N).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query</code> - The status to find the next neighbour</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The next neighbor status including the keys pressed there</dd>
</dl>
</li>
</ul>
<a name="setFiringOnlyMode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFiringOnlyMode</h4>
<pre>public&nbsp;void&nbsp;setFiringOnlyMode()</pre>
<div class="block">A target in range has been aquired. For the gunFireOnlyDelay, prevent movement of the tank to hold it still and not
 interfere with the firing process.</div>
</li>
</ul>
<a name="fireOnEnemyAhead--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fireOnEnemyAhead</h4>
<pre>public&nbsp;void&nbsp;fireOnEnemyAhead()</pre>
<div class="block">Check if there is an enemy ahead and, if there is, turn the turret if necessary and fire on him.
 A thread will be started to do that action if a target is found.
 This function also includes the "Greedy target tracking" functionality.</div>
</li>
</ul>
<a name="updateStatus--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateStatus</h4>
<pre>public&nbsp;void&nbsp;updateStatus()</pre>
<div class="block">Update the board status</div>
</li>
</ul>
<a name="automaticOff--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>automaticOff</h4>
<pre>public&nbsp;void&nbsp;automaticOff()</pre>
<div class="block">Turn the automatic driving off (release all the driving keys)</div>
</li>
</ul>
<a name="waitForKeyboardQueue--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForKeyboardQueue</h4>
<pre>private&nbsp;void&nbsp;waitForKeyboardQueue()</pre>
</li>
</ul>
<a name="automaticAction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>automaticAction</h4>
<pre>public&nbsp;void&nbsp;automaticAction()</pre>
<div class="block">Execute automatic action (Update the board status and execute an automatic driving action)</div>
</li>
</ul>
<a name="nativeKeyTyped-org.jnativehook.keyboard.NativeKeyEvent-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>nativeKeyTyped</h4>
<pre>public&nbsp;void&nbsp;nativeKeyTyped(org.jnativehook.keyboard.NativeKeyEvent&nbsp;arg0)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>nativeKeyTyped</code>&nbsp;in interface&nbsp;<code>org.jnativehook.keyboard.NativeKeyListener</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../sirTankiBot/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/sirTankiBot.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?sirTankiBot/sirTankiBot.html" target="_top">Frames</a></li>
<li><a href="sirTankiBot.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
